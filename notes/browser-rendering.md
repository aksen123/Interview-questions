# 브라우저 렌더링 원리 

브라우저가 웹페이지를 불러올 때 렌더링 엔진이라는 소프트웨어 모듈이 사용되는데, 렌더링 엔진은 HTML, CSS, JavaSCript와 같은 웹페이지 요소들을 파싱하고, 이를 브라우저 화면에 표시하는 역할을 한다. 브라우저 렌더링 원리는 크게 `렌더링 엔진`, `렌더트리`, `레이아웃`, `페인팅`으로 구성 된다.


### 1. HTML 파싱
  브라우저는 HTML 문서를 파싱하여 DOM(Document Object Model) 트리를 생성한다. 이 과정에서 브라우저는 HTML 태그의 종류와 속성을 분석하고, 각 태그의 위치를 계산한다.

### 2. CSS 파싱
  HTML 파싱 중에 <style>, <link>태그를 만나면 DOM 생성을 일시 중단하고, DOM을 만들듯 서버에 요청/응답 받은 CSS파일을 파싱해 CSSOM(CSS Object Model) 트리를 생성한다. 이 과정에서 브라우저는 CSS 선택자와 규칙을 분석하고, 각 규칙의 적용 범위와 우선 순위를 계산한다.

### 3. JavaScript 실행
  HTML 파싱 도중에 <script> 태그를 만나면 DOM 생성을 일시 중단하고, 자바스크립트 엔진으로 제어 권한을 넘깁니다. 자바스크립트 실행이 완료되면 다시 HTML 파서로 제어 권한을 넘겨서 브라우저가 중지했던 시점부터 다시 DOM 생성을 재개합니다.

### 4. 렌더 트리 생성
생성된 DOM, CSSOM 트리를 결합해 렌더 트리를 생성한다. 이 과정에서 브라우저는 레이아웃과 페인팅에 필요한 정보를 추출하고, 숨겨진 요소나 비표시 요소를 필터링 한다.


### 5. 레이아웃 단계
렌더 트리의 각 요소에 대해 위치와 크기를 계산하여 레이아웃을 생성, 이과정에서 각 요소의 박스모델, 위치 지정 방식(relative, absolute 등) 등을 교려해 요소들을 화면애 배치 한다.

### 6. 페인트 단계
  각 요소의 스타일 정보와 레이아웃 정보를 기반으로 실제 화면에 픽셀을 그리는 과정을 수행한다. 이 과정에서 CSS 스타일, 색상, 텍스트, 이미지 등의 렌더링을 담당한다.  

<br />
<br />

## 🙋‍♂️ 추가 / 용어

### ✔️ 파싱 
- 프로그래밍 언어의 문법에 맞게 작성된 텍스트 문서를 읽고, 실행하기 위해 텍스트의 문자열을 분해하고 구조를 생성하는 일련의 과정

### ✔️ DOM
- DOM(Document Object Model)이란? 웹 페이지를 이루는 태그들을 자바스크립트가 이용할 수 있게끔 브라우저가 트리구조로 만든 객체 모델을 의미한다. 영어 뜻풀이 그대로 하자면 문서 객체 모델을 의미하는데, 문서 객체란 html, head, body와 같은 태그들을 javascript가 이용할 수 있는 (메모리에 보관할 수 있는) 객체를 의미한다. DOM은 HTML과 스크립팅 언어(JavaScript)를 서로 이어주는 역할을 한다.


### ✔️ CSSOM 
- CSS 내용을 파싱하여 자료를 구조화 한 것을 CSSOM이라고 한다. 즉 DOM처럼 CSS의 내용을 해석하고 노드를 만들어 트리 구조로 만든 것을 CSSOM이라 함.

### ✔️ 렌더 트리
- 렌더트리는 DOM과 CSSOM의 결합으로 만들어 진다. 렌더트리는 웹페이지에 나타낼 각 요소들의 위치를 계산하고(레이아웃 단계), 픽셀을 화면에 렌더링하는(페인트 단계) 화면에 요소를 표현하는 프로세스를 위해 존재함.


### ✔️ 레이아웃 (Layout)
- 렌더 트리를 이용하여 브라우저의 화면에 요소들을 배치하는 과정이다. 이때, 각 요소의 크기, 위치, 간격 등을 계산한다. 이것이 바로 'Layout' 단계이며 경우에 따라 'Reflow' 라고도 한다.
  
### ✔️ 페인트
- 레이아웃을 이용하여 계산된 위치에 요소들을 표시하는 과정이다. 이때, 브라우저는 렌더링 엔진에서 계산된 정보를 이용하여 브라우저 화면에 그래픽 요소들을 표시한다.
